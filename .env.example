# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
NODE_ENV=development

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------
# Render/hosting usually sets `PORT`. Locally you can use either.
PORT=3000
APP_PORT=3000
APP_TIMEOUT_MS=10000
APP_GLOBAL_PREFIX=api
APP_DOCS_PATH=api/docs

# Public URLs (used for building links in emails + action links)
# - Production must be HTTPS for an HTTPS frontend.
APP_BASE_URL=http://localhost:3000
API_BASE_URL=http://localhost:3000/api
FRONTEND_BASE_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# CORS
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins.
# Examples:
# - Local:  CORS_ORIGIN=http://localhost:5173
# - Prod:   CORS_ORIGIN=https://lrc-invitation-frontend.vercel.app
CORS_ORIGIN=http://localhost:5173
# Enable only if you use cookies. JWT Authorization headers do NOT require credentials.
CORS_CREDENTIALS=false

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
MONGODB_URI=mongodb://localhost:27017/lrc-jeuness

# -----------------------------------------------------------------------------
# Auth / Security
# -----------------------------------------------------------------------------
JWT_ACCESS_SECRET=replace-with-strong-access-secret
JWT_REFRESH_SECRET=replace-with-strong-refresh-secret
ACTION_TOKEN_SECRET=replace-with-strong-action-token-secret

# Auth mode default (can be overridden at runtime in Settings → System → Authentication)
# - magic_link: email a link, then exchange token
# - direct_email: insecure (email-only login, no verification)
AUTH_MODE=magic_link

# Google sign-in (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# Notifications
# -----------------------------------------------------------------------------
# email | whatsapp
NOTIFICATION_PROVIDER=email
# Fallback provider when the primary is unavailable: email | none
NOTIFICATION_FALLBACK_PROVIDER=email
# In-app notifications (WebSocket)
IN_APP_NOTIFICATIONS_ENABLED=true

# -----------------------------------------------------------------------------
# Email
# -----------------------------------------------------------------------------
# In development, the app automatically uses MailDev (localhost:1025) and ignores MAIL_*.
# In production, MAIL_HOST/MAIL_PORT/MAIL_USER/MAIL_PASS are required for real email delivery.
MAIL_HOST=smtp.example.com
MAIL_PORT=465
MAIL_SECURE=true
MAIL_REQUIRE_TLS=true
MAIL_TLS_REJECT_UNAUTHORIZED=true
MAIL_USER=
MAIL_PASS=
MAIL_FROM="LRC Jeunesse <no-reply@lrc-jeunesse.local>"

# -----------------------------------------------------------------------------
# WhatsApp (Meta Cloud API) — required only when NOTIFICATION_PROVIDER=whatsapp
# -----------------------------------------------------------------------------
WHATSAPP_ENABLED=false
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_BUSINESS_ACCOUNT_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_VERIFY_TOKEN=

# -----------------------------------------------------------------------------
# Storage (profile images)
# -----------------------------------------------------------------------------
# local | cloudinary
STORAGE_PROVIDER=local
STORAGE_BASE_URL=http://localhost:3000/uploads
UPLOADS_DIR=uploads

# Cloudinary (required when STORAGE_PROVIDER=cloudinary)
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# -----------------------------------------------------------------------------
# Seed (development)
# -----------------------------------------------------------------------------
# Example:
# SEED_SUPER_MONITORS_JSON=[{"fullName":"Admin Douala","email":"admin.douala@example.com","homeTown":"Douala","preferredLanguage":"en"}]
SEED_SUPER_MONITORS_JSON=
